<div
    class="dialog-main">
    <div
        class="dialog-main-msg" [innerHTML]="confirmData?.message | translate:confirmData?.translateData">
    </div>

    <!-- section for showDataDialog: display a list of label: value objects -->
    <div *ngIf="confirmData?.data">
        <mat-card>
            <mat-list>
                <mat-list-item *ngFor="let dataItem of confirmData?.data">
                    <!-- if the label is not LINK display the label and the value-->
                    <div *ngIf="dataItem.label !== 'LINK'">
                        <span class="dialog-data-label">
                            {{ dataItem.label | translate }}:
                        </span>
                        {{dataItem.value | translate}}
                    </div>

                    <!-- custom case for displaying link so the user can navigate to the full resource page -->
                    <div *ngIf="dataItem.label === 'LINK'">
                        <a href="{{dataItem.value}}"
                           target="_blank">
                            {{'LNG_PAGE_GRAPH_CHAINS_OF_TRANSMISSION_ACTION_VIEW_FULL_RESOURCE' | translate}}
                        </a>
                    </div>
                </mat-list-item>
            </mat-list>
        </mat-card>
    </div>

    <form #form="ngForm">
        <div *ngIf="confirmData?.customInput">
            <!-- Single input -->
            <ng-container *ngIf="!confirmData?.fieldsList || confirmData?.fieldsList.length < 1">
                <ng-container *ngIf="confirmData?.customInputOptions">
                    <app-form-select
                        name="value"
                        [(ngModel)]="dialogAnswerInputValue.value"
                        [placeholder]="confirmData.placeholder | translate:confirmData?.translateData"
                        [options]="confirmData.customInputOptions"
                        optionLabelKey="label"
                        optionValueKey="value"
                        [multiple]="confirmData.customInputOptionsMultiple"
                        [required]="confirmData.required">
                    </app-form-select>
                </ng-container>
                <ng-container *ngIf="!confirmData?.customInputOptions">
                    <app-form-input
                        name="value"
                        [(ngModel)]="dialogAnswerInputValue.value"
                        [placeholder]="confirmData.placeholder | translate:confirmData?.translateData"
                        [required]="confirmData.required"
                        type="number">
                    </app-form-input>
                </ng-container>
            </ng-container>

            <!-- Multiple inputs -->
            <ng-container *ngIf="confirmData?.fieldsList?.length > 0">
                <div
                    *ngFor="let field of confirmData.fieldsList"
                    fxFlex fxLayout="column" fxLayoutGap="20px">

                    <!-- Select -->
                    <app-form-select
                        *ngIf="field.inputOptions"
                        [name]="field.name"
                        [(ngModel)]="dialogAnswerInputValue.value[field.name]"
                        [placeholder]="field.placeholder | translate:confirmData?.translateData"
                        [options]="field.inputOptions"
                        optionLabelKey="label"
                        optionValueKey="value"
                        [multiple]="field.inputOptionsMultiple"
                        [required]="field.required"
                        app-required-one-or-other-validator
                        [requiredOtherField]="field.requiredOneOfTwo"
                        [disabled]="field.disabled">
                    </app-form-select>

                    <!-- Text / Number -->
                    <app-form-input
                        *ngIf="!field.inputOptions"
                        [name]="field.name"
                        [(ngModel)]="dialogAnswerInputValue.value[field.name]"
                        [placeholder]="field.placeholder | translate:confirmData?.translateData"
                        [required]="field.required"
                        [type]="field.type"
                        app-required-one-or-other-validator
                        [requiredOtherField]="field.requiredOneOfTwo"
                        [disabled]="field.disabled">
                    </app-form-input>
                </div>
            </ng-container>
        </div>

        <div *ngIf="!confirmData?.data"
             fxFlex fxLayout="row" fxLayoutAlign="end">
            <button
                class="dialog-button"
                mat-button
                (click)="cancel()"
                type="button">
                {{ confirmData?.cancelLabel | translate:confirmData?.translateData }}
            </button>
            <button
                class="dialog-button"
                mat-button
                [disabled]="confirmData?.customInput && form?.invalid"
                (click)="yes()"
                type="button">
                {{ confirmData?.yesLabel | translate:confirmData?.translateData }}
            </button>
        </div>
    </form>

    <!-- only display cancel button for data dialogs -->
    <div *ngIf="confirmData?.data"
         fxFlex fxLayout="row" fxLayoutAlign="end">
        <button
            class="dialog-button"
            mat-button
            (click)="cancel()"
            type="button">
            {{ confirmData?.cancelLabel | translate }}
        </button>

    </div>

</div>
