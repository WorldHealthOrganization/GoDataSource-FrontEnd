<div class="cytoscape-graph-container">
<!-- dropdown with view types -->
<app-form-select
    name="chainView"
    [(ngModel)]="transmissionChainViewType"
    required="true"
    [options]="transmissionChainViewTypes$ | async"
    (optionChanged)="updateView()"
    [clearable]="false">
</app-form-select>
<!-- spinner -->
<div class="spinner-graph"
     *ngIf="showLoading">
    <mat-spinner>
    </mat-spinner>
</div>

<!-- legend -->
<div class="graph-legend"
     *ngIf="legend">
    <!-- node color -->
    <div *ngIf="objectKeys(legend.nodeColor).length"
    class="legend-name">
      Node Color:
    </div>
    <div
        *ngFor="let nodeColorItem of objectKeys(legend.nodeColor)" class="legend-item">
        <div
            class="legend-color"
            [style.background-color]="legend.nodeColor[nodeColorItem]">
        </div>
        <div>
            {{nodeColorItem | translate}}
        </div>
    </div>

    <!-- node name color -->
    <div *ngIf="objectKeys(legend.nodeNameColor).length"
         class="legend-name">
        Node Name Color:
    </div>
    <div
        *ngFor="let nodeNameColorItem of objectKeys(legend.nodeNameColor)" class="legend-item">
        <div
            class="legend-color"
            [style.background-color]="legend.nodeNameColor[nodeNameColorItem]">
        </div>
        <div>
            {{nodeNameColorItem | translate}}
        </div>
    </div>

    <!-- edge color -->
    <div *ngIf="objectKeys(legend.edgeColor).length"
         class="legend-name">
        Edge Color:
    </div>
    <div
        *ngFor="let edgeColorItem of objectKeys(legend.edgeColor)" class="legend-item">
        <div
            class="legend-color"
            [style.background-color]="legend.edgeColor[edgeColorItem]">
        </div>
        <div>
            {{edgeColorItem | translate}}
        </div>
    </div>


</div>

<!-- cytoscape element -->
<div class="cy"
     [fxShow]="!showLoading">
</div>
</div>
