<div
    class="app-pie-donut-chart-main"
    fxFlex fxLayout="row" fxLayoutGap="10px">

    <!-- Left side -->
    <div
        fxFlex="220px"
        class="app-pie-donut-chart-main-left">

        <!-- Title -->
        <div
            class="app-pie-donut-chart-main-left-title">
            {{ graphTitle | translate }}
        </div>

        <!-- Legend -->
        <div
            class="app-pie-donut-chart-main-left-legend">

            <!-- Legend title -->
            <div
                class="app-pie-donut-chart-main-left-legend-title">
                {{ legendTitle | translate }}
            </div>

            <!-- Legend -->
            <div
                class="app-pie-donut-chart-main-left-legend-items"
                fxLayout="column" fxLayoutGap="7px">

                <!-- Legend items -->
                <div
                    *ngFor="let item of data"
                    fxLayout="row" fxLayoutGap="5px"
                    class="app-pie-donut-chart-main-left-legend-items-item"
                    [class.app-pie-donut-chart-main-left-legend-items-item-selected]="_graph?.selectedArc?.details.id === item.id"
                    (mouseenter)="findAndSelectArc(item)"
                    (mouseleave)="findAndDeselectArc()">

                    <!-- Legend item visible -->
                    <div
                        fxFlex="16px" fxLayoutAlign="start start">
                        <div
                            class="app-pie-donut-chart-main-left-legend-items-item-check"
                            [style.backgroundColor]="item.color"
                            (click)="checkUncheckItem(item, !item.checked)">

                            <!-- Check -->
                            <svg
                                *ngIf="item.checked"
                                width="16px"
                                height="16px">
                                <path fill="none" stroke="white" d="M2.87,8.89 6.419,12.32 14.21,4.41"></path>
                            </svg>

                        </div>
                    </div>

                    <!-- Legend item -->
                    <div
                        fxFlex
                        (click)="clickItem.emit(item)">

                        <!-- No. of items -->
                        <span>
                            {{ item.value }}
                        </span>

                        <!-- Label -->
                        <span>
                            {{ item.label | translate }}
                        </span>
                    </div>

                </div>

            </div>

        </div>

    </div>

    <!-- Chart -->
    <div
        fxFlex
        class="app-pie-donut-chart-main-graph">
        <div
            #chart
            [id]="chartId"
            class="app-pie-donut-chart-main-graph-pie">
        </div>
    </div>

</div>
