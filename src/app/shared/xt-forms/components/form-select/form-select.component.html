<div class="form-select-container form-element"
     [id]="identifier" [ngClass]="{invalid: (invalid)}">

    <mat-form-field
        [class.clearable]="clearable && !multiple && !disabled">
        <mat-select
            #selectElement="ngModel"
            [(ngModel)]="value"
            [compareWith]="compareWith"
            [attr.name]="name"
            [required]="required"
            [placeholder]="placeholder"
            [multiple]="multiple"
            (blur)="onBlur()"
            [disabled]="disabled"
            (selectionChange)="onChange(selectElement.value)"
            [matTooltip]="tooltip">
            <mat-option
                *ngIf="clearable && !multiple"
                [value]="null">
                {{ noneLabel | translate }}
            </mat-option>
            <mat-option
                *ngFor="let option of options"
                [value]="option[optionValueKey]"
                [matTooltip]="option[optionTooltipKey] | translate"
                [disabled]="!allowSelectionOfDisabledItems && option[optionDisabledKey]">
                {{ optionLabelPrefixKey && option[optionLabelPrefixKey] ? (option[optionLabelPrefixKey] | translate) + ' => ' : '' }}
                {{option[optionLabelKey] | translate}}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <app-form-validation
        *ngIf="invalid"
        [controlContainer]="controlContainer"
        [controlName]="name"
        [messages]="failures">
    </app-form-validation>
</div>
