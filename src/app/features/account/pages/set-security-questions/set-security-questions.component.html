<app-topnav>
    <ng-container dynamic-section>
        <app-breadcrumbs [items]="breadcrumbs"></app-breadcrumbs>
    </ng-container>
</app-topnav>

    <mat-card class="page-section page-content">
        <form #form="ngForm" (submit)="save(form)">

            <div fxLayout="column">
                <div *ngIf="alreadySet && !viewForm" class="questions-display"> {{ 'LNG_PAGE_SET_SECURITY_QUESTIONS_DESCRIPTION_ALREADY_SET' | translate }}
                    <div>{{'LNG_PAGE_SET_SECURITY_QUESTIONS_FIELD_LABEL_QUESTION_1' | translate}}: {{authUser.securityQuestions[0].question | translate}}</div>
                    <div>{{'LNG_PAGE_SET_SECURITY_QUESTIONS_FIELD_LABEL_ANSWER_1' | translate}}: ***</div>
                    <div>{{'LNG_PAGE_SET_SECURITY_QUESTIONS_FIELD_LABEL_QUESTION_2' | translate}}: {{authUser.securityQuestions[1].question | translate}}</div>
                    <div>{{'LNG_PAGE_SET_SECURITY_QUESTIONS_FIELD_LABEL_ANSWER_2' | translate}}: ***</div>
                    <button *ngIf="!viewForm" mat-raised-button color="primary" (click)="allowEdit()" class="edit-questions-btn"> {{'LNG_COMMON_BUTTON_EDIT' | translate}}
                    </button>
                </div>

                <div *ngIf="viewForm">
                    <div>{{'LNG_PAGE_SET_SECURITY_QUESTIONS_DESCRIPTION' | translate}}</div>

                   <app-form-select
                        name="securityQuestions[0][question]"
                        [(ngModel)]="authUser.securityQuestions[0].question"
                        [placeholder]="'LNG_PAGE_SET_SECURITY_QUESTIONS_FIELD_LABEL_QUESTION_1' | translate"
                        [options]="securityQuestionsList$ | async"
                        optionLabelKey="question"
                        optionValueKey="question"
                        required="true"
                        app-trigger-validation-for="securityQuestions[1][question]"
                    >
                    </app-form-select>
                    <app-form-input
                        name="securityQuestions[0][answer]"
                        [(ngModel)]="answers[0]"
                        [placeholder]="'LNG_PAGE_SET_SECURITY_QUESTIONS_FIELD_LABEL_ANSWER_1' | translate"
                        required="true">
                    </app-form-input>
                    <app-form-select
                        name="securityQuestions[1][question]"
                        [(ngModel)]="authUser.securityQuestions[1].question"
                        [placeholder]="'LNG_PAGE_SET_SECURITY_QUESTIONS_FIELD_LABEL_QUESTION_2' | translate"
                        [options]="securityQuestionsList$ | async"
                        optionLabelKey="question"
                        optionValueKey="question"
                        app-notEqualValidator="securityQuestions[0][question]"
                        required="true">
                    </app-form-select>
                    <app-form-input
                        name="securityQuestions[1][answer]"
                        [(ngModel)]="answers[1]"
                        [placeholder]="'LNG_PAGE_SET_SECURITY_QUESTIONS_FIELD_LABEL_ANSWER_2' | translate"
                        required="true">
                    </app-form-input>

                    <button mat-raised-button color="primary">{{'LNG_COMMON_BUTTON_SAVE' | translate}}</button>
                </div>
            </div>
        </form>
    </mat-card>

